---
---

<button id="export-pdf" class="px-3 py-1 rounded bg-blue-600 text-white text-sm">
  ðŸ“„ Export to PDF
</button>

<script>
  // @ts-ignore  // (remove if you added the .d.ts shim)
  import html2pdf from "html2pdf.js";

  if (typeof window !== "undefined") {
    document.addEventListener("DOMContentLoaded", () => {
      const btn = document.getElementById("export-pdf");
      if (!btn) return;

      btn.addEventListener("click", () => {
        const element = document.querySelector("main");
        const opt = {
          margin: 10,
          filename: document.title.replace(/\s+/g, "_") + ".pdf",
          image: { type: "jpeg", quality: 0.98 },
          html2canvas: { scale: 2 },
          jsPDF: { unit: "mm", format: "a4", orientation: "portrait" },
        };
        html2pdf().from(element).set(opt).save();
      });
    });
  }
</script>
